<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modern Portfolio</title>
    <link
      rel="icon"
      href="https://cdn.builder.io/api/v1/image/assets%2F1a7d8b4d8c7d4879aa4c7843b68daea6%2F0641e70ad71f446fa911b98ca0e4586b"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700;800;900&family=Rakkas&family=Moret:wght@400;700&family=Bakbak+One:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="root"></div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var header = document.getElementById("siteHeader");
        if (!header) return;

        var passiveOpts = { passive: true };

        function isProjectPage() {
          var b = document.body;
          return (
            b.classList.contains("project-branded") ||
            b.hasAttribute("data-skip-theme")
          );
        }

        function onScroll() {
          header.classList.toggle("scrolled", window.scrollY > 10);
        }

        function applyHeaderBehavior() {
          if (isProjectPage()) {
            // Project page: ensure no movement or blur
            header.classList.remove("scrolled");
            window.removeEventListener("scroll", onScroll, passiveOpts);
            return;
          }
          // Normal pages: enable movement and blur
          onScroll();
          window.addEventListener("scroll", onScroll, passiveOpts);
        }

        applyHeaderBehavior();

        // Handle SPA route changes or body attribute changes
        new MutationObserver(applyHeaderBehavior).observe(document.body, {
          attributes: true,
          attributeFilter: ["class", "data-skip-theme"],
        });
      });
    </script>

    <script type="module" src="/client/main.tsx"></script>
  </body>
</html>
